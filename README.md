# java-chessTest

체스 미션 저장소

## 우아한테크코스 코드리뷰

- [온라인 코드 리뷰 과정](https://github.com/woowacourse/woowacourse-docs/blob/master/maincourse/README.md)

---

- [x] 체스게임
    - [x] 보드를 가지고 있다.
    - [x] 상태를 가지고 있다.
    - [x] 스코어들을 가지고 있다.
    - [x] 사용자의 커멘드를 상태에 넘겨 상태를 변경하거나, 보드의 말이동, 점수 계산등의 명령을 내린다.
    - [x] 말이동후 게임이 끝났다면 상태를 end로 변경한다.

- [x] 상태
    - [x] 준비 상태
        - [x] 커멘드가 start가 아닐시 예외를 던진다.
        - [x] 커멘드가 start일 시 상태를 whiteTurn으로 변경한다.
    - [x] 진행 상태
        - [x] 흑팀 턴
            - [x] 흑팀을 가진다
            - [x] 커멘드가 move 라면 말을 이동시키고, 상태를 whiteTurn로 변경한다
            - [x] 커멘드가 status라면 게임의 점수 계산을 명령한다
            - [x] 커멘드가 end라면 상태를 end로 변경한다
        - [x] 백팀 턴
            - [x] 백팀을 가진다
            - [x] 커멘드가 move 라면 말을 이동시키고, 상태를 blackTurn로 변경한다
            - [x] 커멘드가 status라면 게임의 점수 계산을 명령한다
            - [x] 커멘드가 end라면 상태를 end로 변경한다
    - [x] 종료 상태
        - [x] 종료시 승자를 보여준다
  ```
            state
  ____________|___________
  |           |          |
  Ready    Running      End
         _____|_____
        |           |
   WhiteTurn     BlackTurn

- [x] 점수들
    - [x] 점수 set을 가지고 있다.
    - [x] 팀과 score를 입력받아 점수를 저장한다.
    - [x] 점수를 비교하여, 승자나 무승부 팀을 List로 출력한다.

- [x] 체스판 생성 팩토리
    - [x] 모든 좌표 값을 가진다. (초기화)
    - [x] 기물을 초기 위치에 생성한다

- [x] 보드
    - [x] 모든 기물들의 위치를 저장한다.
    - [x] 소스에 기물이 있는지 확인한다.
        - [x] 우리팀일 경우 진행한다.
    - [x] 타겟에 기물이 있는지 확인한다.
        - [x] 우리팀일 경우 진행하지 않고, 상대팀일 경우 진행한다.
    - [x] 소스 좌표의 기물이 타겟 좌표로 이동 가능한지 물어본다.
        - [x] 폰인 경우 타겟 에 기물이 있을 경우에만 대각선을 허용한다.
    - [x] 기물들의 진행 경로의 기물 유무를 검증한다.
        - [x] 경로에 기물이 있을 경우 진행하지 않는다.
    - [x] 타겟 좌표로 소스 좌표의 기물을 이동한다.
    - [x] 남은 기물들의 점수를 계산할 수 있음
    - [x] 킹의 남은 개수를 통해 게임이 끝났는지 알아본다.

- [x] 팀
    - [x] 팀은 검은팀과 흰팀만 존재한다.
    - [x] 검은색 팀은 이름이 대문자이다
    - [x] 흰색 팀은 이름이 소문자이다

- [x] 좌표
    - [x] 파일과 랭크로 이루어짐.
    - [x] 파일간의 거리를 구한다.
    - [x] 랭크간의 거리를 구한다
    - [x] 랭크를 받아서 같은 높이에 있는지 확인한다.
    - [x] 파일의 거리, 랭크의 거리를 받아서 해당 위치부터 입력받은 거리까지 이동한 좌표를 구한다.
    - [x] 기물의 좌표를 입력받아, 같은 file을 가지고, 다른 rank를 가지는 좌표들을 출력해준다.

- [x] 좌표들
    - [x] 길이가 2개인 파일 리스트로 이루어짐
    - [x] 두 좌표의 파일간의 거리를 구한다
    - [x] 두 좌표의 랭크간의 거리를 구한다
    - [x] 두 좌표가 수직관계인지 확인한다.
    - [x] 두 좌표가 수평관계인지 확인한다.
    - [x] 두 좌표가 대각선인지 확인한다.
    - [x] 두 좌표를 받아 최대 이동 거리를 구한다.
    - [x] 최대 이동거리를 입력받아, 한번의 이동 거리(파일, 랭크)를 구한다.

- [x] 세로줄 (파일)
    - [x] 파일간의 거리를 계산한다.
    - [x] 거리를 입력받아서, 해당 거리만큼 이동한 파일 좌표를 구한다.

- [x] 가로줄 (랭크)
    - [x] 랭크간의 거리를 계산한다.
    - [x] 거리를 입력받아서, 해당 거리만큼 이동한 랭크 좌표를 구한다.
    - [x] rank를 입력받아서, 해당 rank를 제외한 rank리스트를 구한다.

- [x] 기물들
    - [x] 이동정책을 가진다.
    - [x] 팀을 가져야 한다.
        - [x] 검은 팀 이면 출력 시 대문자 이름을 가진다.
        - [x] 흰색 팀 이면 출력 시 소문자 이름을 가진다.
    - [x] 공격정책이 있을 수도 있다.
    - [x] 점수를 가진다.

    - [x] 킹
        - [x] 상하좌우대각선 1칸씩 이동가능.
        - [x] 0점

    - [x] 퀸
        - [x] 상하좌우대각선 이동거리 제한 없음.
        - [x] 9점

    - [x] 룩
        - [x] 상하좌우 이동거리 제한 없음.
        - [x] 5점

    - [x] 비숍
        - [x] 대각선으로 제한없음.
        - [x] 3점

    - [x] 나이트
        - [x] 상하좌우 1칸에 좌우 대각선 1칸이동.
        - [x] 건너뛰기 가능
        - [x] 2.5점

    - [x] 폰
        - [x] 시작할때 2/1칸 선택가능,
        - [x] 블랙팀은 아래로만, 흰팀은 위로만 이동할 수 있다.
        - [x] 공격시에는 대각선으로 한칸 이동 가능.
        - [x] 평상시엔 1점
        - [x] 세로줄에 같은 폰이 있는 경우 0.5점

- [x] 커맨드
    - [x] 사용자 입력 값을 가진다.
        - [x] 사용자 입력 값을 검증한다.
            - [x] start
            - [x] end
            - [x] move
                - [x] 길이와 좌표를 검증한다.
            - [x] status
    - [x] Move일 경우 좌표를 생성한다.


- [x] 인풋뷰
    - [x] 게임 시작 여부를 입력 받는다
    - [x] 게임 종료 여부를 입력 받는다
    - [x] 기물의 소스와 타겟좌표를 입력받는다
    - [x] 게임의 현재 상태 확인 여부를 입력 받는다

- [x] 아웃풋 뷰
    - [x] 체스판을 출력한다
    - [x] 팀별 점수와, 승리하고 있는 팀을 알려준다.
